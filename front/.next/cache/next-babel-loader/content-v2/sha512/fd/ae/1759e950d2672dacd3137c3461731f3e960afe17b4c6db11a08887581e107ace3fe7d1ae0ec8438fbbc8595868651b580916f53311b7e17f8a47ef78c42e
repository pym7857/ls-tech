{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\ympark4\\\\Documents\\\\GitHub\\\\ls-tech\\\\front\\\\pages\\\\write.js\",\n    _s = $RefreshSig$();\n\nimport Head from 'next/head';\nimport React, { useCallback, useState, useEffect } from 'react';\nimport { Form, Input, Button } from 'antd';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Router from 'next/router';\nimport { ADD_POST_REQUEST } from '../reducers/post';\nimport QuillEditor from '../components/QuillEditor';\nimport styles from '../styles/Home.module.css';\nexport default function Write() {\n  _s();\n\n  var dispatch = useDispatch();\n\n  var _useState = useState(''),\n      titleText = _useState[0],\n      setTitleText = _useState[1];\n\n  var _useState2 = useState(''),\n      subTitleText = _useState2[0],\n      setSubTitleText = _useState2[1];\n\n  var _useState3 = useState(''),\n      text = _useState3[0],\n      setText = _useState3[1];\n\n  var _useSelector = useSelector(function (state) {\n    return state.post;\n  }),\n      isAddingPost = _useSelector.isAddingPost,\n      postAdded = _useSelector.postAdded; // useEffect(() => {\n  //   if (postAdded) {\n  //     setText('');\n  //   }\n  // }, [postAdded]);\n\n\n  var onSubmitForm = useCallback(function (e) {\n    e.preventDefault();\n\n    if (!text || !text.trim()) {\n      return alert('게시글을 작성하세요.'); // return으로 끊어줘야 밑에부분 실행안됨 \n    } //console.log(text);\n\n\n    dispatch({\n      type: ADD_POST_REQUEST,\n      data: {\n        title: titleText,\n        subTitle: subTitleText,\n        //content: text.trim(),\n        content: text\n      }\n    }, [titleText, subTitleText, text]);\n    Router.push('/');\n  }, [titleText, subTitleText, text]); // useCallback안에서 쓴 state는 여기에 무조건 넣어주어야 한다 \n  // const onChangeText = useCallback((e) => {\n  //   setText(e.target.value);\n  // }, []);\n\n  var onChangeTitleText = useCallback(function (e) {\n    setTitleText(e.target.value);\n  }, []);\n  var onChangeSubTitleText = useCallback(function (e) {\n    setSubTitleText(e.target.value);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Form, {\n    style: {\n      margin: '10px 0 20px'\n    },\n    encType: \"multipart/form-data\",\n    onSubmit: onSubmitForm,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(Head, {\n        children: [/*#__PURE__*/_jsxDEV(\"title\", {\n          children: \"Quill Sample\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n          rel: \"icon\",\n          href: \"/favicon.ico\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n          href: \"//cdn.jsdelivr.net/npm/katex@0.13.3/dist/katex.min.css\",\n          rel: \"stylesheet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n          src: \"//cdn.jsdelivr.net/npm/katex@0.13.3/dist/katex.min.js\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n          src: \"//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.2/build/highlight.min.js\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n          src: \"//cdn.quilljs.com/1.3.6/quill.min.js\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n          rel: \"stylesheet\",\n          href: \"//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.2/build/styles/default.min.css\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n          rel: \"stylesheet\",\n          href: \"//cdn.quilljs.com/1.3.6/quill.snow.css\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: styles.title,\n        children: \"Quill Sample\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input.TextArea, {\n        maxLength: 50,\n        placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC801\\uC5B4\\uC8FC\\uC138\\uC694\",\n        value: titleText,\n        onChange: onChangeTitleText,\n        style: {\n          height: '30px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input.TextArea, {\n        maxLength: 100,\n        placeholder: \"\\uBD80\\uC81C\\uBAA9\\uC744 \\uC801\\uC5B4\\uC8FC\\uC138\\uC694\",\n        value: subTitleText,\n        onChange: onChangeSubTitleText,\n        style: {\n          height: '30px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '80%',\n          marginTop: '40px',\n          height: '50px'\n        },\n        children: /*#__PURE__*/_jsxDEV(QuillEditor, {\n          body: text,\n          handleQuillChange: setText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          style: {\n            \"float\": 'right'\n          },\n          htmlType: \"submit\",\n          loading: isAddingPost,\n          children: \"\\uC9F9\\uC9F9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Write, \"s0JwRwYpOOoZgPj1RBnqgQq0urM=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Write;\n\nvar _c;\n\n$RefreshReg$(_c, \"Write\");","map":{"version":3,"sources":["C:/Users/ympark4/Documents/GitHub/ls-tech/front/pages/write.js"],"names":["Head","React","useCallback","useState","useEffect","Form","Input","Button","useSelector","useDispatch","Router","ADD_POST_REQUEST","QuillEditor","styles","Write","dispatch","titleText","setTitleText","subTitleText","setSubTitleText","text","setText","state","post","isAddingPost","postAdded","onSubmitForm","e","preventDefault","trim","alert","type","data","title","subTitle","content","push","onChangeTitleText","target","value","onChangeSubTitleText","margin","container","height","width","marginTop"],"mappings":"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","sourcesContent":["import Head from 'next/head';\r\nimport React, { useCallback, useState, useEffect } from 'react';\r\nimport { Form, Input, Button } from 'antd';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Router from 'next/router';\r\n\r\nimport { ADD_POST_REQUEST } from '../reducers/post';\r\nimport QuillEditor from '../components/QuillEditor';\r\nimport styles from '../styles/Home.module.css';\r\n\r\nexport default function Write() {\r\n  const dispatch = useDispatch();\r\n  const [titleText, setTitleText] = useState('');\r\n  const [subTitleText, setSubTitleText] = useState('');\r\n  const [text, setText] = useState('');\r\n  const { isAddingPost, postAdded } = useSelector(state => state.post);\r\n\r\n  // useEffect(() => {\r\n  //   if (postAdded) {\r\n  //     setText('');\r\n  //   }\r\n  // }, [postAdded]);\r\n\r\n  const onSubmitForm = useCallback((e) => {\r\n    e.preventDefault();\r\n    if (!text || !text.trim()) {\r\n      return alert('게시글을 작성하세요.'); // return으로 끊어줘야 밑에부분 실행안됨 \r\n    }\r\n    //console.log(text);\r\n    dispatch({\r\n      type: ADD_POST_REQUEST,\r\n      data: {\r\n        title: titleText,\r\n        subTitle: subTitleText,\r\n        //content: text.trim(),\r\n        content: text,\r\n      },\r\n    }, [titleText, subTitleText, text]);\r\n    Router.push('/');\r\n  }, [titleText, subTitleText, text]); // useCallback안에서 쓴 state는 여기에 무조건 넣어주어야 한다 \r\n\r\n  // const onChangeText = useCallback((e) => {\r\n  //   setText(e.target.value);\r\n  // }, []);\r\n\r\n  const onChangeTitleText = useCallback((e) => {\r\n    setTitleText(e.target.value);\r\n  }, []);\r\n\r\n  const onChangeSubTitleText = useCallback((e) => {\r\n    setSubTitleText(e.target.value);\r\n  }, []);\r\n\r\n  return (\r\n    <Form style={{ margin: '10px 0 20px' }} encType=\"multipart/form-data\" onSubmit={onSubmitForm}>\r\n      <div className={styles.container}>\r\n        <Head>\r\n          <title>Quill Sample</title>\r\n          <link rel=\"icon\" href=\"/favicon.ico\" />\r\n          \r\n          {/* 관련된 리소스 로드 (CSS는 _app.js에서 global CSS로 로드하는 편이 좋을 거 같다.)*/}\r\n          <link href=\"//cdn.jsdelivr.net/npm/katex@0.13.3/dist/katex.min.css\" rel=\"stylesheet\"/>\r\n          <script src=\"//cdn.jsdelivr.net/npm/katex@0.13.3/dist/katex.min.js\"></script>\r\n          <script src=\"//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.2/build/highlight.min.js\"></script>\r\n          <script src=\"//cdn.quilljs.com/1.3.6/quill.min.js\"></script>\r\n          <link rel=\"stylesheet\" href=\"//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.2/build/styles/default.min.css\"/>\r\n          <link rel=\"stylesheet\" href=\"//cdn.quilljs.com/1.3.6/quill.snow.css\"/>\r\n        </Head>\r\n\r\n        <h1 className={styles.title}>\r\n          Quill Sample\r\n        </h1>\r\n\r\n        <Input.TextArea maxLength={50} placeholder=\"제목을 적어주세요\" value={titleText} onChange={onChangeTitleText} style={{ height: '30px' }} />\r\n        <Input.TextArea maxLength={100} placeholder=\"부제목을 적어주세요\" value={subTitleText} onChange={onChangeSubTitleText} style={{ height: '30px' }} />\r\n        <div style={{ width: '80%', marginTop: '40px', height: '50px'}}>\r\n          <QuillEditor\r\n            body={text}\r\n            handleQuillChange={setText}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <Button type=\"primary\" style={{ float: 'right' }} htmlType=\"submit\" loading={isAddingPost}>짹짹</Button>\r\n        </div>\r\n      </div>\r\n    </Form>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}